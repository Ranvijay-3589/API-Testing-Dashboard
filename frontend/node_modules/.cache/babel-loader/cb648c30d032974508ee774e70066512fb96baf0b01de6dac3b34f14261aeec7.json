{"ast":null,"code":"import _defineProperty from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { visit } from \"./visitor.mjs\";\nimport EphemeralArray from \"./ast/ephemeral-array.mjs\";\nimport EphemeralObject from \"./ast/ephemeral-object.mjs\";\nimport { isElement, isBooleanElement, isNumberElement, isStringElement, isNullElement } from \"../../../predicates/index.mjs\";\n/* eslint-disable class-methods-use-this */\nclass Visitor {\n  constructor() {\n    _defineProperty(this, \"ObjectElement\", {\n      enter: element => {\n        if (this.references.has(element)) {\n          return this.references.get(element).toReference();\n        }\n        const ephemeral = new EphemeralObject(element.content);\n        this.references.set(element, ephemeral);\n        return ephemeral;\n      }\n    });\n    _defineProperty(this, \"EphemeralObject\", {\n      leave: ephemeral => {\n        return ephemeral.toObject();\n      }\n    });\n    _defineProperty(this, \"MemberElement\", {\n      enter: element => {\n        return [element.key, element.value];\n      }\n    });\n    _defineProperty(this, \"ArrayElement\", {\n      enter: element => {\n        if (this.references.has(element)) {\n          return this.references.get(element).toReference();\n        }\n        const ephemeral = new EphemeralArray(element.content);\n        this.references.set(element, ephemeral);\n        return ephemeral;\n      }\n    });\n    _defineProperty(this, \"EphemeralArray\", {\n      leave: ephemeral => {\n        return ephemeral.toArray();\n      }\n    });\n    _defineProperty(this, \"references\", new WeakMap());\n  }\n  BooleanElement(element) {\n    return element.toValue();\n  }\n  NumberElement(element) {\n    return element.toValue();\n  }\n  StringElement(element) {\n    return element.toValue();\n  }\n  NullElement() {\n    return null;\n  }\n  RefElement(element) {\n    var _ancestors;\n    const ancestors = arguments.length <= 4 ? undefined : arguments[4];\n    if (((_ancestors = ancestors[ancestors.length - 1]) === null || _ancestors === void 0 ? void 0 : _ancestors.type) === 'EphemeralObject') {\n      return Symbol.for('delete-node');\n    }\n    return String(element.toValue());\n  }\n  LinkElement(element) {\n    if (isStringElement(element.href)) {\n      return element.href.toValue();\n    }\n    return '';\n  }\n}\n/**\n * @public\n */\nconst serializer = element => {\n  if (!isElement(element)) return element;\n\n  // shortcut optimization for certain element types\n  if (isStringElement(element) || isNumberElement(element) || isBooleanElement(element) || isNullElement(element)) {\n    return element.toValue();\n  }\n  return visit(element, new Visitor());\n};\nexport default serializer;","map":{"version":3,"names":["visit","EphemeralArray","EphemeralObject","isElement","isBooleanElement","isNumberElement","isStringElement","isNullElement","Visitor","constructor","_defineProperty","enter","element","references","has","get","toReference","ephemeral","content","set","leave","toObject","key","value","toArray","WeakMap","BooleanElement","toValue","NumberElement","StringElement","NullElement","RefElement","_ancestors","ancestors","arguments","length","undefined","type","Symbol","for","String","LinkElement","href","serializer"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-core/src/transformers/serializers/value/index.mjs"],"sourcesContent":["import { visit } from \"./visitor.mjs\";\nimport EphemeralArray from \"./ast/ephemeral-array.mjs\";\nimport EphemeralObject from \"./ast/ephemeral-object.mjs\";\nimport { isElement, isBooleanElement, isNumberElement, isStringElement, isNullElement } from \"../../../predicates/index.mjs\";\n/* eslint-disable class-methods-use-this */\nclass Visitor {\n  ObjectElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralObject(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralObject = {\n    leave: ephemeral => {\n      return ephemeral.toObject();\n    }\n  };\n  MemberElement = {\n    enter: element => {\n      return [element.key, element.value];\n    }\n  };\n  ArrayElement = {\n    enter: element => {\n      if (this.references.has(element)) {\n        return this.references.get(element).toReference();\n      }\n      const ephemeral = new EphemeralArray(element.content);\n      this.references.set(element, ephemeral);\n      return ephemeral;\n    }\n  };\n  EphemeralArray = {\n    leave: ephemeral => {\n      return ephemeral.toArray();\n    }\n  };\n  references = new WeakMap();\n  BooleanElement(element) {\n    return element.toValue();\n  }\n  NumberElement(element) {\n    return element.toValue();\n  }\n  StringElement(element) {\n    return element.toValue();\n  }\n  NullElement() {\n    return null;\n  }\n  RefElement(element, ...rest) {\n    var _ancestors;\n    const ancestors = rest[3];\n    if (((_ancestors = ancestors[ancestors.length - 1]) === null || _ancestors === void 0 ? void 0 : _ancestors.type) === 'EphemeralObject') {\n      return Symbol.for('delete-node');\n    }\n    return String(element.toValue());\n  }\n  LinkElement(element) {\n    if (isStringElement(element.href)) {\n      return element.href.toValue();\n    }\n    return '';\n  }\n}\n/**\n * @public\n */\nconst serializer = element => {\n  if (!isElement(element)) return element;\n\n  // shortcut optimization for certain element types\n  if (isStringElement(element) || isNumberElement(element) || isBooleanElement(element) || isNullElement(element)) {\n    return element.toValue();\n  }\n  return visit(element, new Visitor());\n};\nexport default serializer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}