{"ast":null,"code":"import _objectSpread from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { dispatchPluginsSync } from \"./plugins/dispatcher/index.mjs\";\nimport { getNodeType } from \"../traversal/visitor.mjs\";\nimport { cloneDeep } from \"../clone/index.mjs\";\nimport { isElement } from \"../predicates/index.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\nconst refract = (value, _ref) => {\n  let {\n    Type,\n    plugins = []\n  } = _ref;\n  /**\n   * This is where values gets refracted into generic ApiDOM.\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const element = new Type(value);\n  if (isElement(value)) {\n    if (value.meta.length > 0) {\n      element.meta = cloneDeep(value.meta);\n    }\n    if (value.attributes.length > 0) {\n      element.attributes = cloneDeep(value.attributes);\n    }\n  }\n\n  /**\n   * Run plugins only when necessary.\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchPluginsSync(element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\nexport const createRefractor = Type => function (value) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return refract(value, _objectSpread(_objectSpread({}, options), {}, {\n    Type\n  }));\n};\nexport default refract;","map":{"version":3,"names":["dispatchPluginsSync","getNodeType","cloneDeep","isElement","createToolbox","refract","value","_ref","Type","plugins","element","meta","length","attributes","toolboxCreator","visitorOptions","nodeTypeGetter","createRefractor","options","arguments","undefined","_objectSpread"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-core/src/refractor/index.mjs"],"sourcesContent":["import { dispatchPluginsSync } from \"./plugins/dispatcher/index.mjs\";\nimport { getNodeType } from \"../traversal/visitor.mjs\";\nimport { cloneDeep } from \"../clone/index.mjs\";\nimport { isElement } from \"../predicates/index.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\nconst refract = (value, {\n  Type,\n  plugins = []\n}) => {\n  /**\n   * This is where values gets refracted into generic ApiDOM.\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const element = new Type(value);\n  if (isElement(value)) {\n    if (value.meta.length > 0) {\n      element.meta = cloneDeep(value.meta);\n    }\n    if (value.attributes.length > 0) {\n      element.attributes = cloneDeep(value.attributes);\n    }\n  }\n\n  /**\n   * Run plugins only when necessary.\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchPluginsSync(element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\nexport const createRefractor = Type => (value, options = {}) => refract(value, {\n  ...options,\n  Type\n});\nexport default refract;"],"mappings":";AAAA,SAASA,mBAAmB,QAAQ,gCAAgC;AACpE,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,QAAQ,yBAAyB;AACnD,OAAOC,aAAa,MAAM,eAAe;AACzC,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAAC,IAAA,KAGhB;EAAA,IAHkB;IACtBC,IAAI;IACJC,OAAO,GAAG;EACZ,CAAC,GAAAF,IAAA;EACC;AACF;AACA;AACA;AACA;EACE,MAAMG,OAAO,GAAG,IAAIF,IAAI,CAACF,KAAK,CAAC;EAC/B,IAAIH,SAAS,CAACG,KAAK,CAAC,EAAE;IACpB,IAAIA,KAAK,CAACK,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MACzBF,OAAO,CAACC,IAAI,GAAGT,SAAS,CAACI,KAAK,CAACK,IAAI,CAAC;IACtC;IACA,IAAIL,KAAK,CAACO,UAAU,CAACD,MAAM,GAAG,CAAC,EAAE;MAC/BF,OAAO,CAACG,UAAU,GAAGX,SAAS,CAACI,KAAK,CAACO,UAAU,CAAC;IAClD;EACF;;EAEA;AACF;AACA;AACA;EACE,OAAOb,mBAAmB,CAACU,OAAO,EAAED,OAAO,EAAE;IAC3CK,cAAc,EAAEV,aAAa;IAC7BW,cAAc,EAAE;MACdC,cAAc,EAAEf;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;AACD,OAAO,MAAMgB,eAAe,GAAGT,IAAI,IAAI,UAACF,KAAK;EAAA,IAAEY,OAAO,GAAAC,SAAA,CAAAP,MAAA,QAAAO,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC,CAAC;EAAA,OAAKd,OAAO,CAACC,KAAK,EAAAe,aAAA,CAAAA,aAAA,KACxEH,OAAO;IACVV;EAAI,EACL,CAAC;AAAA;AACF,eAAeH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}