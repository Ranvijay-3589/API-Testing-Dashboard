{"ast":null,"code":"import _objectSpread from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { mergeDeepRight, propOr } from 'ramda';\nimport { invokeArgs } from 'ramda-adjunct';\nimport createToolbox from \"../../toolbox.mjs\";\nimport { getNodeType, mergeAllVisitors, visit } from \"../../../traversal/visitor.mjs\";\n/**\n * @public\n */\n/**\n * @public\n */\n/**\n * @public\n */\nconst defaultDispatchPluginsOptions = {\n  toolboxCreator: createToolbox,\n  visitorOptions: {\n    nodeTypeGetter: getNodeType,\n    exposeEdits: true\n  }\n};\n\n/**\n * @public\n */\nexport const dispatchPluginsSync = function (element, plugins) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (plugins.length === 0) return element;\n  const mergedOptions = mergeDeepRight(defaultDispatchPluginsOptions, options);\n  const {\n    toolboxCreator,\n    visitorOptions\n  } = mergedOptions;\n  const toolbox = toolboxCreator();\n  const pluginsSpecs = plugins.map(plugin => plugin(toolbox));\n  const mergedPluginsVisitor = mergeAllVisitors(pluginsSpecs.map(propOr({}, 'visitor')), _objectSpread({}, visitorOptions));\n  pluginsSpecs.forEach(invokeArgs(['pre'], []));\n  const newElement = visit(element, mergedPluginsVisitor, visitorOptions);\n  pluginsSpecs.forEach(invokeArgs(['post'], []));\n  return newElement;\n};\nexport const dispatchPluginsAsync = async function (element, plugins) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (plugins.length === 0) return element;\n  const mergedOptions = mergeDeepRight(defaultDispatchPluginsOptions, options);\n  const {\n    toolboxCreator,\n    visitorOptions\n  } = mergedOptions;\n  const toolbox = toolboxCreator();\n  const pluginsSpecs = plugins.map(plugin => plugin(toolbox));\n  const mergeAllVisitorsAsync = mergeAllVisitors[Symbol.for('nodejs.util.promisify.custom')];\n  const visitAsync = visit[Symbol.for('nodejs.util.promisify.custom')];\n  const mergedPluginsVisitor = mergeAllVisitorsAsync(pluginsSpecs.map(propOr({}, 'visitor')), _objectSpread({}, visitorOptions));\n  await Promise.allSettled(pluginsSpecs.map(invokeArgs(['pre'], [])));\n  const newElement = await visitAsync(element, mergedPluginsVisitor, visitorOptions);\n  await Promise.allSettled(pluginsSpecs.map(invokeArgs(['post'], [])));\n  return newElement;\n};\ndispatchPluginsSync[Symbol.for('nodejs.util.promisify.custom')] = dispatchPluginsAsync;","map":{"version":3,"names":["mergeDeepRight","propOr","invokeArgs","createToolbox","getNodeType","mergeAllVisitors","visit","defaultDispatchPluginsOptions","toolboxCreator","visitorOptions","nodeTypeGetter","exposeEdits","dispatchPluginsSync","element","plugins","options","arguments","length","undefined","mergedOptions","toolbox","pluginsSpecs","map","plugin","mergedPluginsVisitor","_objectSpread","forEach","newElement","dispatchPluginsAsync","mergeAllVisitorsAsync","Symbol","for","visitAsync","Promise","allSettled"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-core/src/refractor/plugins/dispatcher/index.mjs"],"sourcesContent":["import { mergeDeepRight, propOr } from 'ramda';\nimport { invokeArgs } from 'ramda-adjunct';\nimport createToolbox from \"../../toolbox.mjs\";\nimport { getNodeType, mergeAllVisitors, visit } from \"../../../traversal/visitor.mjs\";\n/**\n * @public\n */\n/**\n * @public\n */\n/**\n * @public\n */\nconst defaultDispatchPluginsOptions = {\n  toolboxCreator: createToolbox,\n  visitorOptions: {\n    nodeTypeGetter: getNodeType,\n    exposeEdits: true\n  }\n};\n\n/**\n * @public\n */\nexport const dispatchPluginsSync = (element, plugins, options = {}) => {\n  if (plugins.length === 0) return element;\n  const mergedOptions = mergeDeepRight(defaultDispatchPluginsOptions, options);\n  const {\n    toolboxCreator,\n    visitorOptions\n  } = mergedOptions;\n  const toolbox = toolboxCreator();\n  const pluginsSpecs = plugins.map(plugin => plugin(toolbox));\n  const mergedPluginsVisitor = mergeAllVisitors(pluginsSpecs.map(propOr({}, 'visitor')), {\n    ...visitorOptions\n  });\n  pluginsSpecs.forEach(invokeArgs(['pre'], []));\n  const newElement = visit(element, mergedPluginsVisitor, visitorOptions);\n  pluginsSpecs.forEach(invokeArgs(['post'], []));\n  return newElement;\n};\nexport const dispatchPluginsAsync = async (element, plugins, options = {}) => {\n  if (plugins.length === 0) return element;\n  const mergedOptions = mergeDeepRight(defaultDispatchPluginsOptions, options);\n  const {\n    toolboxCreator,\n    visitorOptions\n  } = mergedOptions;\n  const toolbox = toolboxCreator();\n  const pluginsSpecs = plugins.map(plugin => plugin(toolbox));\n  const mergeAllVisitorsAsync = mergeAllVisitors[Symbol.for('nodejs.util.promisify.custom')];\n  const visitAsync = visit[Symbol.for('nodejs.util.promisify.custom')];\n  const mergedPluginsVisitor = mergeAllVisitorsAsync(pluginsSpecs.map(propOr({}, 'visitor')), {\n    ...visitorOptions\n  });\n  await Promise.allSettled(pluginsSpecs.map(invokeArgs(['pre'], [])));\n  const newElement = await visitAsync(element, mergedPluginsVisitor, visitorOptions);\n  await Promise.allSettled(pluginsSpecs.map(invokeArgs(['post'], [])));\n  return newElement;\n};\ndispatchPluginsSync[Symbol.for('nodejs.util.promisify.custom')] = dispatchPluginsAsync;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}