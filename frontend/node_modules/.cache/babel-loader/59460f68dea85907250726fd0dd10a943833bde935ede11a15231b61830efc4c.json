{"ast":null,"code":"import _objectSpread from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { path } from 'ramda';\nimport { visit, dereference, refract as baseRefract, dispatchRefractorPlugins } from '@swagger-api/apidom-core';\nimport specification from \"./specification.mjs\";\nimport { keyMap, getNodeType } from \"../traversal/visitor.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\n/**\n * @public\n */\nconst refract = function (value) {\n  let {\n    specPath = ['visitors', 'document', 'objects', 'JSONSchema', '$visitor'],\n    plugins = [],\n    specificationObj = specification\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const element = baseRefract(value);\n  const resolvedSpec = dereference(specificationObj);\n\n  /**\n   * This is where generic ApiDOM becomes semantic (namespace applied).\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const RootVisitorClass = path(specPath, resolvedSpec);\n  const rootVisitor = new RootVisitorClass({\n    specObj: resolvedSpec\n  });\n  visit(element, rootVisitor);\n\n  /**\n   * Run plugins only when necessary.\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchRefractorPlugins(rootVisitor.element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      keyMap,\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\n\n/**\n * @public\n */\nexport const createRefractor = specPath => function (value) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return refract(value, _objectSpread({\n    specPath\n  }, options));\n};\nexport default refract;","map":{"version":3,"names":["path","visit","dereference","refract","baseRefract","dispatchRefractorPlugins","specification","keyMap","getNodeType","createToolbox","value","specPath","plugins","specificationObj","arguments","length","undefined","element","resolvedSpec","RootVisitorClass","rootVisitor","specObj","toolboxCreator","visitorOptions","nodeTypeGetter","createRefractor","options","_objectSpread"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-ns-json-schema-draft-7/src/refractor/index.mjs"],"sourcesContent":["import { path } from 'ramda';\nimport { visit, dereference, refract as baseRefract, dispatchRefractorPlugins } from '@swagger-api/apidom-core';\nimport specification from \"./specification.mjs\";\nimport { keyMap, getNodeType } from \"../traversal/visitor.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\n/**\n * @public\n */\nconst refract = (value, {\n  specPath = ['visitors', 'document', 'objects', 'JSONSchema', '$visitor'],\n  plugins = [],\n  specificationObj = specification\n} = {}) => {\n  const element = baseRefract(value);\n  const resolvedSpec = dereference(specificationObj);\n\n  /**\n   * This is where generic ApiDOM becomes semantic (namespace applied).\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const RootVisitorClass = path(specPath, resolvedSpec);\n  const rootVisitor = new RootVisitorClass({\n    specObj: resolvedSpec\n  });\n  visit(element, rootVisitor);\n\n  /**\n   * Run plugins only when necessary.\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchRefractorPlugins(rootVisitor.element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      keyMap,\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\n\n/**\n * @public\n */\nexport const createRefractor = specPath => (value, options = {}) => refract(value, {\n  specPath,\n  ...options\n});\nexport default refract;"],"mappings":";AAAA,SAASA,IAAI,QAAQ,OAAO;AAC5B,SAASC,KAAK,EAAEC,WAAW,EAAEC,OAAO,IAAIC,WAAW,EAAEC,wBAAwB,QAAQ,0BAA0B;AAC/G,OAAOC,aAAa,MAAM,qBAAqB;AAC/C,SAASC,MAAM,EAAEC,WAAW,QAAQ,0BAA0B;AAC9D,OAAOC,aAAa,MAAM,eAAe;AACzC;AACA;AACA;AACA,MAAMN,OAAO,GAAG,SAAAA,CAACO,KAAK,EAIX;EAAA,IAJa;IACtBC,QAAQ,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,CAAC;IACxEC,OAAO,GAAG,EAAE;IACZC,gBAAgB,GAAGP;EACrB,CAAC,GAAAQ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACJ,MAAMG,OAAO,GAAGb,WAAW,CAACM,KAAK,CAAC;EAClC,MAAMQ,YAAY,GAAGhB,WAAW,CAACW,gBAAgB,CAAC;;EAElD;AACF;AACA;AACA;AACA;EACE,MAAMM,gBAAgB,GAAGnB,IAAI,CAACW,QAAQ,EAAEO,YAAY,CAAC;EACrD,MAAME,WAAW,GAAG,IAAID,gBAAgB,CAAC;IACvCE,OAAO,EAAEH;EACX,CAAC,CAAC;EACFjB,KAAK,CAACgB,OAAO,EAAEG,WAAW,CAAC;;EAE3B;AACF;AACA;AACA;EACE,OAAOf,wBAAwB,CAACe,WAAW,CAACH,OAAO,EAAEL,OAAO,EAAE;IAC5DU,cAAc,EAAEb,aAAa;IAC7Bc,cAAc,EAAE;MACdhB,MAAM;MACNiB,cAAc,EAAEhB;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMiB,eAAe,GAAGd,QAAQ,IAAI,UAACD,KAAK;EAAA,IAAEgB,OAAO,GAAAZ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OAAKX,OAAO,CAACO,KAAK,EAAAiB,aAAA;IAC/EhB;EAAQ,GACLe,OAAO,CACX,CAAC;AAAA;AACF,eAAevB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}