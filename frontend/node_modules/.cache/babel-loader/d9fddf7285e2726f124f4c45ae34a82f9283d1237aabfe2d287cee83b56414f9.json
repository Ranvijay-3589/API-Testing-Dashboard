{"ast":null,"code":"import _objectSpread from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { visit, dereference, refract as baseRefract, dispatchRefractorPlugins } from '@swagger-api/apidom-core';\nimport { path } from 'ramda';\nimport specification from \"./specification.mjs\";\nimport { keyMap, getNodeType } from \"../traversal/visitor.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\n/**\n * @public\n */\nconst refract = function (value) {\n  let {\n    specPath = ['visitors', 'document', 'objects', 'OpenApi', '$visitor'],\n    plugins = []\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const element = baseRefract(value);\n  const resolvedSpec = dereference(specification);\n\n  /**\n   * This is where generic ApiDOM becomes semantic (namespace applied).\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const RootVisitorClass = path(specPath, resolvedSpec);\n  const rootVisitor = new RootVisitorClass({\n    specObj: resolvedSpec\n  });\n  visit(element, rootVisitor);\n\n  /**\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchRefractorPlugins(rootVisitor.element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      keyMap,\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\n\n/**\n * @public\n */\nexport const createRefractor = specPath => function (value) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return refract(value, _objectSpread({\n    specPath\n  }, options));\n};\nexport default refract;","map":{"version":3,"names":["visit","dereference","refract","baseRefract","dispatchRefractorPlugins","path","specification","keyMap","getNodeType","createToolbox","value","specPath","plugins","arguments","length","undefined","element","resolvedSpec","RootVisitorClass","rootVisitor","specObj","toolboxCreator","visitorOptions","nodeTypeGetter","createRefractor","options","_objectSpread"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-ns-openapi-3-0/src/refractor/index.mjs"],"sourcesContent":["import { visit, dereference, refract as baseRefract, dispatchRefractorPlugins } from '@swagger-api/apidom-core';\nimport { path } from 'ramda';\nimport specification from \"./specification.mjs\";\nimport { keyMap, getNodeType } from \"../traversal/visitor.mjs\";\nimport createToolbox from \"./toolbox.mjs\";\n/**\n * @public\n */\nconst refract = (value, {\n  specPath = ['visitors', 'document', 'objects', 'OpenApi', '$visitor'],\n  plugins = []\n} = {}) => {\n  const element = baseRefract(value);\n  const resolvedSpec = dereference(specification);\n\n  /**\n   * This is where generic ApiDOM becomes semantic (namespace applied).\n   * We don't allow consumers to hook into this translation.\n   * Though we allow consumers to define their onw plugins on already transformed ApiDOM.\n   */\n  const RootVisitorClass = path(specPath, resolvedSpec);\n  const rootVisitor = new RootVisitorClass({\n    specObj: resolvedSpec\n  });\n  visit(element, rootVisitor);\n\n  /**\n   * Running plugins visitors means extra single traversal === performance hit.\n   */\n  return dispatchRefractorPlugins(rootVisitor.element, plugins, {\n    toolboxCreator: createToolbox,\n    visitorOptions: {\n      keyMap,\n      nodeTypeGetter: getNodeType\n    }\n  });\n};\n\n/**\n * @public\n */\nexport const createRefractor = specPath => (value, options = {}) => refract(value, {\n  specPath,\n  ...options\n});\nexport default refract;"],"mappings":";AAAA,SAASA,KAAK,EAAEC,WAAW,EAAEC,OAAO,IAAIC,WAAW,EAAEC,wBAAwB,QAAQ,0BAA0B;AAC/G,SAASC,IAAI,QAAQ,OAAO;AAC5B,OAAOC,aAAa,MAAM,qBAAqB;AAC/C,SAASC,MAAM,EAAEC,WAAW,QAAQ,0BAA0B;AAC9D,OAAOC,aAAa,MAAM,eAAe;AACzC;AACA;AACA;AACA,MAAMP,OAAO,GAAG,SAAAA,CAACQ,KAAK,EAGX;EAAA,IAHa;IACtBC,QAAQ,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,CAAC;IACrEC,OAAO,GAAG;EACZ,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACJ,MAAMG,OAAO,GAAGb,WAAW,CAACO,KAAK,CAAC;EAClC,MAAMO,YAAY,GAAGhB,WAAW,CAACK,aAAa,CAAC;;EAE/C;AACF;AACA;AACA;AACA;EACE,MAAMY,gBAAgB,GAAGb,IAAI,CAACM,QAAQ,EAAEM,YAAY,CAAC;EACrD,MAAME,WAAW,GAAG,IAAID,gBAAgB,CAAC;IACvCE,OAAO,EAAEH;EACX,CAAC,CAAC;EACFjB,KAAK,CAACgB,OAAO,EAAEG,WAAW,CAAC;;EAE3B;AACF;AACA;EACE,OAAOf,wBAAwB,CAACe,WAAW,CAACH,OAAO,EAAEJ,OAAO,EAAE;IAC5DS,cAAc,EAAEZ,aAAa;IAC7Ba,cAAc,EAAE;MACdf,MAAM;MACNgB,cAAc,EAAEf;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMgB,eAAe,GAAGb,QAAQ,IAAI,UAACD,KAAK;EAAA,IAAEe,OAAO,GAAAZ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OAAKX,OAAO,CAACQ,KAAK,EAAAgB,aAAA;IAC/Ef;EAAQ,GACLc,OAAO,CACX,CAAC;AAAA;AACF,eAAevB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}