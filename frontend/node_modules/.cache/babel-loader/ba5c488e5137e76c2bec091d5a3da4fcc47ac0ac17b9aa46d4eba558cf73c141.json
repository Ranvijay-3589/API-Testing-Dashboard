{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getStatusBadgeClass=code=>{if(!code||code===0)return'bg-secondary';if(code>=200&&code<300)return'bg-success';if(code>=300&&code<400)return'bg-info';if(code>=400&&code<500)return'bg-warning';return'bg-danger';};const formatXml=xml=>{try{let formatted='';let indent=0;const nodes=xml.replace(/(>)\\s*(<)/g,'$1\\n$2').split('\\n');nodes.forEach(node=>{node=node.trim();if(!node)return;if(node.match(/^<\\/\\w/)){indent=Math.max(0,indent-1);}formatted+='  '.repeat(indent)+node+'\\n';if(node.match(/^<\\w([^>]*[^/])?>/)&&!node.match(/^<\\w[^>]*\\/>/)&&!node.match(/<\\/\\w/)){indent++;}});return formatted.trim();}catch(_unused){return xml;}};const isXml=data=>{if(typeof data!=='string')return false;const trimmed=data.trim();return trimmed.startsWith('<')&&trimmed.endsWith('>');};const ResponseViewer=_ref=>{let{response}=_ref;if(!response)return null;const formatResponse=data=>{// Try JSON first\ntry{if(typeof data==='string'){const parsed=JSON.parse(data);return{text:JSON.stringify(parsed,null,2),type:'json'};}if(typeof data==='object'&&data!==null){return{text:JSON.stringify(data,null,2),type:'json'};}}catch(_unused2){// Not JSON\n}// Check if XML\nif(isXml(data)){return{text:formatXml(data),type:'xml'};}// Fallback to string\nreturn{text:String(data),type:'text'};};const{text,type}=formatResponse(response.response_data);const getTypeLabel=()=>{if(type==='xml')return'XML';if(type==='json')return'JSON';return'Text';};return/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Response\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:getTypeLabel()}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge \".concat(getStatusBadgeClass(response.status_code)),children:[\"Status: \",response.status_code||'Error']}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary\",children:[\"Time: \",response.response_time_ms,\"ms\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"bg-dark text-light p-3 rounded\",style:{maxHeight:'500px',overflow:'auto',fontSize:'0.875rem'},children:text})})]});};export default ResponseViewer;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","getStatusBadgeClass","code","formatXml","xml","formatted","indent","nodes","replace","split","forEach","node","trim","match","Math","max","repeat","_unused","isXml","data","trimmed","startsWith","endsWith","ResponseViewer","_ref","response","formatResponse","parsed","JSON","parse","text","stringify","type","_unused2","String","response_data","getTypeLabel","className","children","concat","status_code","response_time_ms","style","maxHeight","overflow","fontSize"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/src/components/ResponseViewer.js"],"sourcesContent":["import React from 'react';\n\nconst getStatusBadgeClass = (code) => {\n  if (!code || code === 0) return 'bg-secondary';\n  if (code >= 200 && code < 300) return 'bg-success';\n  if (code >= 300 && code < 400) return 'bg-info';\n  if (code >= 400 && code < 500) return 'bg-warning';\n  return 'bg-danger';\n};\n\nconst formatXml = (xml) => {\n  try {\n    let formatted = '';\n    let indent = 0;\n    const nodes = xml.replace(/(>)\\s*(<)/g, '$1\\n$2').split('\\n');\n\n    nodes.forEach((node) => {\n      node = node.trim();\n      if (!node) return;\n\n      if (node.match(/^<\\/\\w/)) {\n        indent = Math.max(0, indent - 1);\n      }\n\n      formatted += '  '.repeat(indent) + node + '\\n';\n\n      if (\n        node.match(/^<\\w([^>]*[^/])?>/) &&\n        !node.match(/^<\\w[^>]*\\/>/) &&\n        !node.match(/<\\/\\w/)\n      ) {\n        indent++;\n      }\n    });\n\n    return formatted.trim();\n  } catch {\n    return xml;\n  }\n};\n\nconst isXml = (data) => {\n  if (typeof data !== 'string') return false;\n  const trimmed = data.trim();\n  return trimmed.startsWith('<') && trimmed.endsWith('>');\n};\n\nconst ResponseViewer = ({ response }) => {\n  if (!response) return null;\n\n  const formatResponse = (data) => {\n    // Try JSON first\n    try {\n      if (typeof data === 'string') {\n        const parsed = JSON.parse(data);\n        return { text: JSON.stringify(parsed, null, 2), type: 'json' };\n      }\n      if (typeof data === 'object' && data !== null) {\n        return { text: JSON.stringify(data, null, 2), type: 'json' };\n      }\n    } catch {\n      // Not JSON\n    }\n\n    // Check if XML\n    if (isXml(data)) {\n      return { text: formatXml(data), type: 'xml' };\n    }\n\n    // Fallback to string\n    return { text: String(data), type: 'text' };\n  };\n\n  const { text, type } = formatResponse(response.response_data);\n\n  const getTypeLabel = () => {\n    if (type === 'xml') return 'XML';\n    if (type === 'json') return 'JSON';\n    return 'Text';\n  };\n\n  return (\n    <div className=\"card mt-4\">\n      <div className=\"card-header d-flex justify-content-between align-items-center\">\n        <h5 className=\"mb-0\">Response</h5>\n        <div className=\"d-flex gap-3 align-items-center\">\n          <span className=\"badge bg-secondary\">\n            {getTypeLabel()}\n          </span>\n          <span className={`badge ${getStatusBadgeClass(response.status_code)}`}>\n            Status: {response.status_code || 'Error'}\n          </span>\n          <span className=\"badge bg-primary\">\n            Time: {response.response_time_ms}ms\n          </span>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <pre\n          className=\"bg-dark text-light p-3 rounded\"\n          style={{ maxHeight: '500px', overflow: 'auto', fontSize: '0.875rem' }}\n        >\n          {text}\n        </pre>\n      </div>\n    </div>\n  );\n};\n\nexport default ResponseViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}