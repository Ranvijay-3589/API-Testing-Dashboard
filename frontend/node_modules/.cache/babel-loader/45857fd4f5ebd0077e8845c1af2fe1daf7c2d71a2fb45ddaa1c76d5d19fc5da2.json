{"ast":null,"code":"import _defineProperty from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { isUndefined } from 'ramda-adjunct';\nimport { isObjectElement, isArrayElement, isMemberElement } from \"../predicates/index.mjs\";\nconst computeEdges = function (element) {\n  let edges = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new WeakMap();\n  if (isMemberElement(element)) {\n    // @ts-ignore\n    edges.set(element.key, element);\n    // @ts-ignore\n    computeEdges(element.key, edges);\n    // @ts-ignore\n    edges.set(element.value, element);\n    // @ts-ignore\n    computeEdges(element.value, edges);\n  } else {\n    element.children.forEach(childElement => {\n      edges.set(childElement, element);\n      computeEdges(childElement, edges);\n    });\n  }\n  return edges;\n};\nconst transcludeChildOfMemberElement = (search, replace, edges) => {\n  const memberElement = edges.get(search);\n  if (!isMemberElement(memberElement)) {\n    return;\n  }\n  if (memberElement.key === search) {\n    memberElement.key = replace;\n    edges.delete(search);\n    edges.set(replace, memberElement);\n  }\n  if (memberElement.value === search) {\n    memberElement.value = replace;\n    edges.delete(search);\n    edges.set(replace, memberElement);\n  }\n};\nconst transcludeChildOfObjectElement = (search, replace, edges) => {\n  const objectElement = edges.get(search);\n  if (!isObjectElement(objectElement)) {\n    return;\n  }\n  objectElement.content = objectElement.map((value, key, member) => {\n    if (member === search) {\n      edges.delete(search);\n      edges.set(replace, objectElement);\n      return replace;\n    }\n    return member;\n  });\n};\nconst transcludeChildOfArrayElement = (search, replace, edges) => {\n  const arrayElement = edges.get(search);\n  if (!isArrayElement(arrayElement)) {\n    return;\n  }\n  arrayElement.content = arrayElement.map(element => {\n    if (element === search) {\n      edges.delete(search);\n      edges.set(replace, arrayElement);\n      return replace;\n    }\n    return element;\n  });\n};\n\n/**\n * This is a mutating stamp. If you don't want your Element to be mutated,\n * clone in before passing it to initializer of this stamp.\n * @public\n */\n\nclass Transcluder {\n  constructor(_ref) {\n    let {\n      element\n    } = _ref;\n    _defineProperty(this, \"element\", void 0);\n    _defineProperty(this, \"edges\", void 0);\n    this.element = element;\n  }\n  transclude(search, replace) {\n    var _this$edges;\n    // shortcut 1. - replacing entire ApiDOM tree\n    if (search === this.element) return replace;\n    // shortcut 2. - replacing nothing\n    if (search === replace) return this.element;\n    this.edges = (_this$edges = this.edges) !== null && _this$edges !== void 0 ? _this$edges : computeEdges(this.element);\n    const parent = this.edges.get(search);\n    if (isUndefined(parent)) {\n      return undefined;\n    }\n\n    /**\n     * This predicate must be first because ObjectElement extends ArrayElement.\n     * isArrayElement returns true for ObjectElements.\n     * (classical problems with polymorphism)\n     */\n    if (isObjectElement(parent)) {\n      // @ts-ignore\n      transcludeChildOfObjectElement(search, replace, this.edges);\n    } else if (isArrayElement(parent)) {\n      transcludeChildOfArrayElement(search, replace, this.edges);\n    } else if (isMemberElement(parent)) {\n      transcludeChildOfMemberElement(search, replace, this.edges);\n    }\n    return this.element;\n  }\n}\nexport default Transcluder;","map":{"version":3,"names":["isUndefined","isObjectElement","isArrayElement","isMemberElement","computeEdges","element","edges","arguments","length","undefined","WeakMap","set","key","value","children","forEach","childElement","transcludeChildOfMemberElement","search","replace","memberElement","get","delete","transcludeChildOfObjectElement","objectElement","content","map","member","transcludeChildOfArrayElement","arrayElement","Transcluder","constructor","_ref","_defineProperty","transclude","_this$edges","parent"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-core/src/transcluder/Transcluder.mjs"],"sourcesContent":["import { isUndefined } from 'ramda-adjunct';\nimport { isObjectElement, isArrayElement, isMemberElement } from \"../predicates/index.mjs\";\nconst computeEdges = (element, edges = new WeakMap()) => {\n  if (isMemberElement(element)) {\n    // @ts-ignore\n    edges.set(element.key, element);\n    // @ts-ignore\n    computeEdges(element.key, edges);\n    // @ts-ignore\n    edges.set(element.value, element);\n    // @ts-ignore\n    computeEdges(element.value, edges);\n  } else {\n    element.children.forEach(childElement => {\n      edges.set(childElement, element);\n      computeEdges(childElement, edges);\n    });\n  }\n  return edges;\n};\nconst transcludeChildOfMemberElement = (search, replace, edges) => {\n  const memberElement = edges.get(search);\n  if (!isMemberElement(memberElement)) {\n    return;\n  }\n  if (memberElement.key === search) {\n    memberElement.key = replace;\n    edges.delete(search);\n    edges.set(replace, memberElement);\n  }\n  if (memberElement.value === search) {\n    memberElement.value = replace;\n    edges.delete(search);\n    edges.set(replace, memberElement);\n  }\n};\nconst transcludeChildOfObjectElement = (search, replace, edges) => {\n  const objectElement = edges.get(search);\n  if (!isObjectElement(objectElement)) {\n    return;\n  }\n  objectElement.content = objectElement.map((value, key, member) => {\n    if (member === search) {\n      edges.delete(search);\n      edges.set(replace, objectElement);\n      return replace;\n    }\n    return member;\n  });\n};\nconst transcludeChildOfArrayElement = (search, replace, edges) => {\n  const arrayElement = edges.get(search);\n  if (!isArrayElement(arrayElement)) {\n    return;\n  }\n  arrayElement.content = arrayElement.map(element => {\n    if (element === search) {\n      edges.delete(search);\n      edges.set(replace, arrayElement);\n      return replace;\n    }\n    return element;\n  });\n};\n\n/**\n * This is a mutating stamp. If you don't want your Element to be mutated,\n * clone in before passing it to initializer of this stamp.\n * @public\n */\n\nclass Transcluder {\n  element;\n  edges;\n  constructor({\n    element\n  }) {\n    this.element = element;\n  }\n  transclude(search, replace) {\n    var _this$edges;\n    // shortcut 1. - replacing entire ApiDOM tree\n    if (search === this.element) return replace;\n    // shortcut 2. - replacing nothing\n    if (search === replace) return this.element;\n    this.edges = (_this$edges = this.edges) !== null && _this$edges !== void 0 ? _this$edges : computeEdges(this.element);\n    const parent = this.edges.get(search);\n    if (isUndefined(parent)) {\n      return undefined;\n    }\n\n    /**\n     * This predicate must be first because ObjectElement extends ArrayElement.\n     * isArrayElement returns true for ObjectElements.\n     * (classical problems with polymorphism)\n     */\n    if (isObjectElement(parent)) {\n      // @ts-ignore\n      transcludeChildOfObjectElement(search, replace, this.edges);\n    } else if (isArrayElement(parent)) {\n      transcludeChildOfArrayElement(search, replace, this.edges);\n    } else if (isMemberElement(parent)) {\n      transcludeChildOfMemberElement(search, replace, this.edges);\n    }\n    return this.element;\n  }\n}\nexport default Transcluder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}