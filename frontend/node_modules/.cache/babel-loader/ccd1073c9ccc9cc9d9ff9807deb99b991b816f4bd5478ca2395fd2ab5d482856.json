{"ast":null,"code":"import jsYaml from 'js-yaml';\nexport const shouldDownloadAsText = function () {\n  let contentType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return /(json|xml|yaml|text)\\b/.test(contentType);\n};\nfunction parseBody(body, contentType) {\n  if (contentType) {\n    if (contentType.indexOf('application/json') === 0 || contentType.indexOf('+json') > 0) {\n      return JSON.parse(body);\n    }\n    if (contentType.indexOf('application/xml') === 0 || contentType.indexOf('+xml') > 0) {\n      return body;\n    }\n  }\n  return jsYaml.load(body);\n}\nfunction serializeHeaderValue(value) {\n  const isMulti = value.includes(', ');\n  return isMulti ? value.split(', ') : value;\n}\n\n// Serialize headers into a hash, where mutliple-headers result in an array.\n//\n// eg: Cookie: one\n//     Cookie: two\n//  =  { Cookie: [ \"one\", \"two\" ]\nexport function serializeHeaders() {\n  let headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (typeof headers.entries !== 'function') return {};\n  return Array.from(headers.entries()).reduce((acc, _ref) => {\n    let [header, value] = _ref;\n    acc[header] = serializeHeaderValue(value);\n    return acc;\n  }, {});\n}\n\n// Serialize the response, returns a promise with headers and the body part of the hash\nexport function serializeResponse(oriRes, url) {\n  let {\n    loadSpec = false\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const res = {\n    ok: oriRes.ok,\n    url: oriRes.url || url,\n    status: oriRes.status,\n    statusText: oriRes.statusText,\n    headers: serializeHeaders(oriRes.headers)\n  };\n  const contentType = res.headers['content-type'];\n  const useText = loadSpec || shouldDownloadAsText(contentType);\n  const getBody = useText ? oriRes.text : oriRes.blob || oriRes.buffer;\n  return getBody.call(oriRes).then(body => {\n    res.text = body;\n    res.data = body;\n    if (useText) {\n      try {\n        const obj = parseBody(body, contentType);\n        res.body = obj;\n        res.obj = obj;\n      } catch (e) {\n        res.parseError = e;\n      }\n    }\n    return res;\n  });\n}","map":{"version":3,"names":["jsYaml","shouldDownloadAsText","contentType","arguments","length","undefined","test","parseBody","body","indexOf","JSON","parse","load","serializeHeaderValue","value","isMulti","includes","split","serializeHeaders","headers","entries","Array","from","reduce","acc","_ref","header","serializeResponse","oriRes","url","loadSpec","res","ok","status","statusText","useText","getBody","text","blob","buffer","call","then","data","obj","e","parseError"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/swagger-client/es/http/serializers/response/index.js"],"sourcesContent":["import jsYaml from 'js-yaml';\nexport const shouldDownloadAsText = (contentType = '') => /(json|xml|yaml|text)\\b/.test(contentType);\nfunction parseBody(body, contentType) {\n  if (contentType) {\n    if (contentType.indexOf('application/json') === 0 || contentType.indexOf('+json') > 0) {\n      return JSON.parse(body);\n    }\n    if (contentType.indexOf('application/xml') === 0 || contentType.indexOf('+xml') > 0) {\n      return body;\n    }\n  }\n  return jsYaml.load(body);\n}\nfunction serializeHeaderValue(value) {\n  const isMulti = value.includes(', ');\n  return isMulti ? value.split(', ') : value;\n}\n\n// Serialize headers into a hash, where mutliple-headers result in an array.\n//\n// eg: Cookie: one\n//     Cookie: two\n//  =  { Cookie: [ \"one\", \"two\" ]\nexport function serializeHeaders(headers = {}) {\n  if (typeof headers.entries !== 'function') return {};\n  return Array.from(headers.entries()).reduce((acc, [header, value]) => {\n    acc[header] = serializeHeaderValue(value);\n    return acc;\n  }, {});\n}\n\n// Serialize the response, returns a promise with headers and the body part of the hash\nexport function serializeResponse(oriRes, url, {\n  loadSpec = false\n} = {}) {\n  const res = {\n    ok: oriRes.ok,\n    url: oriRes.url || url,\n    status: oriRes.status,\n    statusText: oriRes.statusText,\n    headers: serializeHeaders(oriRes.headers)\n  };\n  const contentType = res.headers['content-type'];\n  const useText = loadSpec || shouldDownloadAsText(contentType);\n  const getBody = useText ? oriRes.text : oriRes.blob || oriRes.buffer;\n  return getBody.call(oriRes).then(body => {\n    res.text = body;\n    res.data = body;\n    if (useText) {\n      try {\n        const obj = parseBody(body, contentType);\n        res.body = obj;\n        res.obj = obj;\n      } catch (e) {\n        res.parseError = e;\n      }\n    }\n    return res;\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}