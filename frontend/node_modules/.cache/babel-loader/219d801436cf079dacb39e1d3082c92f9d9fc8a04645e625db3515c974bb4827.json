{"ast":null,"code":"import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar, isQuoted as isQuotedPredicate, unquote, quote } from \"../../../utils.mjs\";\nimport testCookieValue from \"../../../cookie/test/cookie-value.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueLenientPercentEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // return early if the value is already valid\n  if (testCookieValue(value, {\n    strict: false\n  })) return value;\n\n  // detect if the value is quoted\n  const isQuoted = isQuotedPredicate(value);\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? unquote(value) : value;\n  const startRule = isQuoted ? 'lenient-quoted-char' : 'lenient-cookie-octet';\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, startRule, char).success ? char : percentEncodeChar(char);\n  }\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? quote(result) : result;\n};\nexport default cookieValueLenientPercentEncoder;","map":{"version":3,"names":["Parser","Grammar","percentEncodeChar","isQuoted","isQuotedPredicate","unquote","quote","testCookieValue","parser","grammar","cookieValueLenientPercentEncoder","cookieValue","value","String","strict","valueToEncode","startRule","result","char","parse","success"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swaggerexpert/cookie/es/set-cookie/serialize/encoders/cookie-value-lenient-percent.mjs"],"sourcesContent":["import { Parser } from 'apg-lite';\nimport Grammar from \"../../../grammar.mjs\";\nimport { percentEncodeChar, isQuoted as isQuotedPredicate, unquote, quote } from \"../../../utils.mjs\";\nimport testCookieValue from \"../../../cookie/test/cookie-value.mjs\";\nconst parser = new Parser();\nconst grammar = new Grammar();\nconst cookieValueLenientPercentEncoder = cookieValue => {\n  const value = String(cookieValue);\n\n  // return early if the value is already valid\n  if (testCookieValue(value, {\n    strict: false\n  })) return value;\n\n  // detect if the value is quoted\n  const isQuoted = isQuotedPredicate(value);\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? unquote(value) : value;\n  const startRule = isQuoted ? 'lenient-quoted-char' : 'lenient-cookie-octet';\n  let result = '';\n  for (const char of valueToEncode) {\n    result += parser.parse(grammar, startRule, char).success ? char : percentEncodeChar(char);\n  }\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? quote(result) : result;\n};\nexport default cookieValueLenientPercentEncoder;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;AACjC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAASC,iBAAiB,EAAEC,QAAQ,IAAIC,iBAAiB,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AACrG,OAAOC,eAAe,MAAM,uCAAuC;AACnE,MAAMC,MAAM,GAAG,IAAIR,MAAM,CAAC,CAAC;AAC3B,MAAMS,OAAO,GAAG,IAAIR,OAAO,CAAC,CAAC;AAC7B,MAAMS,gCAAgC,GAAGC,WAAW,IAAI;EACtD,MAAMC,KAAK,GAAGC,MAAM,CAACF,WAAW,CAAC;;EAEjC;EACA,IAAIJ,eAAe,CAACK,KAAK,EAAE;IACzBE,MAAM,EAAE;EACV,CAAC,CAAC,EAAE,OAAOF,KAAK;;EAEhB;EACA,MAAMT,QAAQ,GAAGC,iBAAiB,CAACQ,KAAK,CAAC;;EAEzC;EACA,MAAMG,aAAa,GAAGZ,QAAQ,GAAGE,OAAO,CAACO,KAAK,CAAC,GAAGA,KAAK;EACvD,MAAMI,SAAS,GAAGb,QAAQ,GAAG,qBAAqB,GAAG,sBAAsB;EAC3E,IAAIc,MAAM,GAAG,EAAE;EACf,KAAK,MAAMC,IAAI,IAAIH,aAAa,EAAE;IAChCE,MAAM,IAAIT,MAAM,CAACW,KAAK,CAACV,OAAO,EAAEO,SAAS,EAAEE,IAAI,CAAC,CAACE,OAAO,GAAGF,IAAI,GAAGhB,iBAAiB,CAACgB,IAAI,CAAC;EAC3F;;EAEA;EACA,OAAOf,QAAQ,GAAGG,KAAK,CAACW,MAAM,CAAC,GAAGA,MAAM;AAC1C,CAAC;AACD,eAAeP,gCAAgC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}