{"ast":null,"code":"import testCookieValue from \"../../../cookie/test/cookie-value.mjs\";\nimport base64Encoder from \"./base64.node.mjs\";\nimport { unquote, quote, isQuoted as isQuotedPredicate } from \"../../../utils.mjs\";\nconst cookieValueLenientBase64Encoder = function (cookieValue) {\n  let encoder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : base64Encoder;\n  const value = String(cookieValue);\n\n  // return early if the value is already valid\n  if (testCookieValue(value, {\n    strict: false\n  })) return value;\n\n  // detect if the value is quoted\n  const isQuoted = isQuotedPredicate(value);\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? unquote(value) : value;\n\n  // encode the value\n  const result = encoder(valueToEncode);\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? quote(result) : result;\n};\nexport default cookieValueLenientBase64Encoder;","map":{"version":3,"names":["testCookieValue","base64Encoder","unquote","quote","isQuoted","isQuotedPredicate","cookieValueLenientBase64Encoder","cookieValue","encoder","arguments","length","undefined","value","String","strict","valueToEncode","result"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swaggerexpert/cookie/es/set-cookie/serialize/encoders/cookie-value-lenient-base64.mjs"],"sourcesContent":["import testCookieValue from \"../../../cookie/test/cookie-value.mjs\";\nimport base64Encoder from \"./base64.node.mjs\";\nimport { unquote, quote, isQuoted as isQuotedPredicate } from \"../../../utils.mjs\";\nconst cookieValueLenientBase64Encoder = (cookieValue, encoder = base64Encoder) => {\n  const value = String(cookieValue);\n\n  // return early if the value is already valid\n  if (testCookieValue(value, {\n    strict: false\n  })) return value;\n\n  // detect if the value is quoted\n  const isQuoted = isQuotedPredicate(value);\n\n  // remove quotes if present for processing\n  const valueToEncode = isQuoted ? unquote(value) : value;\n\n  // encode the value\n  const result = encoder(valueToEncode);\n\n  // return quoted if input was quoted, unquoted otherwise\n  return isQuoted ? quote(result) : result;\n};\nexport default cookieValueLenientBase64Encoder;"],"mappings":"AAAA,OAAOA,eAAe,MAAM,uCAAuC;AACnE,OAAOC,aAAa,MAAM,mBAAmB;AAC7C,SAASC,OAAO,EAAEC,KAAK,EAAEC,QAAQ,IAAIC,iBAAiB,QAAQ,oBAAoB;AAClF,MAAMC,+BAA+B,GAAG,SAAAA,CAACC,WAAW,EAA8B;EAAA,IAA5BC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGR,aAAa;EAC3E,MAAMW,KAAK,GAAGC,MAAM,CAACN,WAAW,CAAC;;EAEjC;EACA,IAAIP,eAAe,CAACY,KAAK,EAAE;IACzBE,MAAM,EAAE;EACV,CAAC,CAAC,EAAE,OAAOF,KAAK;;EAEhB;EACA,MAAMR,QAAQ,GAAGC,iBAAiB,CAACO,KAAK,CAAC;;EAEzC;EACA,MAAMG,aAAa,GAAGX,QAAQ,GAAGF,OAAO,CAACU,KAAK,CAAC,GAAGA,KAAK;;EAEvD;EACA,MAAMI,MAAM,GAAGR,OAAO,CAACO,aAAa,CAAC;;EAErC;EACA,OAAOX,QAAQ,GAAGD,KAAK,CAACa,MAAM,CAAC,GAAGA,MAAM;AAC1C,CAAC;AACD,eAAeV,+BAA+B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}