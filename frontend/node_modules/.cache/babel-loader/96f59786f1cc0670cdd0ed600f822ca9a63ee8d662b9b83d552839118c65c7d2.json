{"ast":null,"code":"import _objectSpread from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nconst _excluded = [\"swaggerHTTPClient\", \"swaggerHTTPClientConfig\"];\nimport { ResolverError, HTTPResolver } from '@swagger-api/apidom-reference/configuration/empty';\nimport '../../../../../../helpers/fetch-polyfill.node.js';\nimport '../../../../../../helpers/abortcontroller-polyfill.node.js';\nimport Http from '../../../../../../http/index.js';\nclass HTTPResolverSwaggerClient extends HTTPResolver {\n  constructor() {\n    let _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      {\n        swaggerHTTPClient = Http,\n        swaggerHTTPClientConfig = {}\n      } = _ref,\n      rest = _objectWithoutProperties(_ref, _excluded);\n    super(_objectSpread(_objectSpread({}, rest), {}, {\n      name: 'http-swagger-client'\n    }));\n    _defineProperty(this, \"swaggerHTTPClient\", Http);\n    _defineProperty(this, \"swaggerHTTPClientConfig\", void 0);\n    this.swaggerHTTPClient = swaggerHTTPClient;\n    this.swaggerHTTPClientConfig = swaggerHTTPClientConfig;\n  }\n  getHttpClient() {\n    return this.swaggerHTTPClient;\n  }\n  async read(file) {\n    const client = this.getHttpClient();\n    const controller = new AbortController();\n    const {\n      signal\n    } = controller;\n    const timeoutID = setTimeout(() => {\n      controller.abort();\n    }, this.timeout);\n    const credentials = this.getHttpClient().withCredentials || this.withCredentials ? 'include' : 'same-origin';\n    const redirect = this.redirects === 0 ? 'error' : 'follow';\n    const follow = this.redirects > 0 ? this.redirects : undefined;\n    try {\n      const response = await client(_objectSpread({\n        url: file.uri,\n        signal,\n        userFetch: async (resource, options) => {\n          let res = await fetch(resource, options);\n          try {\n            // undici supports mutations\n            res.headers.delete('Content-Type');\n          } catch (_unused) {\n            // Fetch API has guards which prevent mutations\n            res = new Response(res.body, _objectSpread(_objectSpread({}, res), {}, {\n              headers: new Headers(res.headers)\n            }));\n            res.headers.delete('Content-Type');\n          }\n          return res;\n        },\n        credentials,\n        redirect,\n        follow\n      }, this.swaggerHTTPClientConfig));\n      return response.text.arrayBuffer();\n    } catch (error) {\n      throw new ResolverError(\"Error downloading \\\"\".concat(file.uri, \"\\\"\"), {\n        cause: error\n      });\n    } finally {\n      clearTimeout(timeoutID);\n    }\n  }\n}\nexport default HTTPResolverSwaggerClient;","map":{"version":3,"names":["ResolverError","HTTPResolver","Http","HTTPResolverSwaggerClient","constructor","_ref","arguments","length","undefined","swaggerHTTPClient","swaggerHTTPClientConfig","rest","_objectWithoutProperties","_excluded","_objectSpread","name","_defineProperty","getHttpClient","read","file","client","controller","AbortController","signal","timeoutID","setTimeout","abort","timeout","credentials","withCredentials","redirect","redirects","follow","response","url","uri","userFetch","resource","options","res","fetch","headers","delete","_unused","Response","body","Headers","text","arrayBuffer","error","concat","cause","clearTimeout"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/swagger-client/es/resolver/apidom/reference/resolve/resolvers/http-swagger-client/index.js"],"sourcesContent":["import { ResolverError, HTTPResolver } from '@swagger-api/apidom-reference/configuration/empty';\nimport '../../../../../../helpers/fetch-polyfill.node.js';\nimport '../../../../../../helpers/abortcontroller-polyfill.node.js';\nimport Http from '../../../../../../http/index.js';\nclass HTTPResolverSwaggerClient extends HTTPResolver {\n  swaggerHTTPClient = Http;\n  swaggerHTTPClientConfig;\n  constructor({\n    swaggerHTTPClient = Http,\n    swaggerHTTPClientConfig = {},\n    ...rest\n  } = {}) {\n    super({\n      ...rest,\n      name: 'http-swagger-client'\n    });\n    this.swaggerHTTPClient = swaggerHTTPClient;\n    this.swaggerHTTPClientConfig = swaggerHTTPClientConfig;\n  }\n  getHttpClient() {\n    return this.swaggerHTTPClient;\n  }\n  async read(file) {\n    const client = this.getHttpClient();\n    const controller = new AbortController();\n    const {\n      signal\n    } = controller;\n    const timeoutID = setTimeout(() => {\n      controller.abort();\n    }, this.timeout);\n    const credentials = this.getHttpClient().withCredentials || this.withCredentials ? 'include' : 'same-origin';\n    const redirect = this.redirects === 0 ? 'error' : 'follow';\n    const follow = this.redirects > 0 ? this.redirects : undefined;\n    try {\n      const response = await client({\n        url: file.uri,\n        signal,\n        userFetch: async (resource, options) => {\n          let res = await fetch(resource, options);\n          try {\n            // undici supports mutations\n            res.headers.delete('Content-Type');\n          } catch {\n            // Fetch API has guards which prevent mutations\n            res = new Response(res.body, {\n              ...res,\n              headers: new Headers(res.headers)\n            });\n            res.headers.delete('Content-Type');\n          }\n          return res;\n        },\n        credentials,\n        redirect,\n        follow,\n        ...this.swaggerHTTPClientConfig\n      });\n      return response.text.arrayBuffer();\n    } catch (error) {\n      throw new ResolverError(`Error downloading \"${file.uri}\"`, {\n        cause: error\n      });\n    } finally {\n      clearTimeout(timeoutID);\n    }\n  }\n}\nexport default HTTPResolverSwaggerClient;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}