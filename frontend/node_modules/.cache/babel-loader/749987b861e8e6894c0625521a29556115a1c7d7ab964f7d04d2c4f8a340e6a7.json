{"ast":null,"code":"import _defineProperty from \"/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { last, pathOr } from 'ramda';\nimport { isNumber } from 'ramda-adjunct';\nimport { hasElementSourceMap } from \"../predicates/index.mjs\";\nimport { visit } from \"./visitor.mjs\";\nclass Visitor {\n  constructor() {\n    let {\n      offset = 0,\n      includeRightBound = false\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _defineProperty(this, \"result\", void 0);\n    _defineProperty(this, \"offset\", void 0);\n    _defineProperty(this, \"includeRightBound\", void 0);\n    this.result = [];\n    this.offset = offset;\n    this.includeRightBound = includeRightBound;\n  }\n  enter(element) {\n    if (!hasElementSourceMap(element)) {\n      return undefined; // dive in\n    }\n    const {\n      startIndex,\n      endIndex\n    } = element;\n    const isWithinOffsetRange = this.offset >= startIndex && (this.offset < endIndex || this.includeRightBound && this.offset <= endIndex);\n    if (isWithinOffsetRange) {\n      this.result.push(element);\n      return undefined; // push to stack and dive in\n    }\n    return false; // skip entire sub-tree\n  }\n}\n\n/**\n * @public\n */\n\n/**\n * Finds the most inner node at the given offset.\n * If includeRightBound is set, also finds nodes that end at the given offset.\n * @public\n */\nconst findAtOffset = (options, element) => {\n  let offset;\n  let includeRightBound;\n  if (isNumber(options)) {\n    offset = options;\n    includeRightBound = false;\n  } else {\n    offset = pathOr(0, ['offset'], options);\n    includeRightBound = pathOr(false, ['includeRightBound'], options);\n  }\n  const visitor = new Visitor({\n    offset,\n    includeRightBound\n  });\n  visit(element, visitor);\n  return last(visitor.result);\n};\nexport default findAtOffset;","map":{"version":3,"names":["last","pathOr","isNumber","hasElementSourceMap","visit","Visitor","constructor","offset","includeRightBound","arguments","length","undefined","_defineProperty","result","enter","element","startIndex","endIndex","isWithinOffsetRange","push","findAtOffset","options","visitor"],"sources":["/var/www/ranvijay.capricorn.online/mohit/frontend/node_modules/@swagger-api/apidom-core/src/traversal/findAtOffset.mjs"],"sourcesContent":["import { last, pathOr } from 'ramda';\nimport { isNumber } from 'ramda-adjunct';\nimport { hasElementSourceMap } from \"../predicates/index.mjs\";\nimport { visit } from \"./visitor.mjs\";\nclass Visitor {\n  result;\n  offset;\n  includeRightBound;\n  constructor({\n    offset = 0,\n    includeRightBound = false\n  } = {}) {\n    this.result = [];\n    this.offset = offset;\n    this.includeRightBound = includeRightBound;\n  }\n  enter(element) {\n    if (!hasElementSourceMap(element)) {\n      return undefined; // dive in\n    }\n    const {\n      startIndex,\n      endIndex\n    } = element;\n    const isWithinOffsetRange = this.offset >= startIndex && (this.offset < endIndex || this.includeRightBound && this.offset <= endIndex);\n    if (isWithinOffsetRange) {\n      this.result.push(element);\n      return undefined; // push to stack and dive in\n    }\n    return false; // skip entire sub-tree\n  }\n}\n\n/**\n * @public\n */\n\n/**\n * Finds the most inner node at the given offset.\n * If includeRightBound is set, also finds nodes that end at the given offset.\n * @public\n */\nconst findAtOffset = (options, element) => {\n  let offset;\n  let includeRightBound;\n  if (isNumber(options)) {\n    offset = options;\n    includeRightBound = false;\n  } else {\n    offset = pathOr(0, ['offset'], options);\n    includeRightBound = pathOr(false, ['includeRightBound'], options);\n  }\n  const visitor = new Visitor({\n    offset,\n    includeRightBound\n  });\n  visit(element, visitor);\n  return last(visitor.result);\n};\nexport default findAtOffset;"],"mappings":";AAAA,SAASA,IAAI,EAAEC,MAAM,QAAQ,OAAO;AACpC,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,mBAAmB,QAAQ,yBAAyB;AAC7D,SAASC,KAAK,QAAQ,eAAe;AACrC,MAAMC,OAAO,CAAC;EAIZC,WAAWA,CAAA,EAGH;IAAA,IAHI;MACVC,MAAM,GAAG,CAAC;MACVC,iBAAiB,GAAG;IACtB,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAAG,eAAA;IAAAA,eAAA;IAAAA,eAAA;IACJ,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACN,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,iBAAiB,GAAGA,iBAAiB;EAC5C;EACAM,KAAKA,CAACC,OAAO,EAAE;IACb,IAAI,CAACZ,mBAAmB,CAACY,OAAO,CAAC,EAAE;MACjC,OAAOJ,SAAS,CAAC,CAAC;IACpB;IACA,MAAM;MACJK,UAAU;MACVC;IACF,CAAC,GAAGF,OAAO;IACX,MAAMG,mBAAmB,GAAG,IAAI,CAACX,MAAM,IAAIS,UAAU,KAAK,IAAI,CAACT,MAAM,GAAGU,QAAQ,IAAI,IAAI,CAACT,iBAAiB,IAAI,IAAI,CAACD,MAAM,IAAIU,QAAQ,CAAC;IACtI,IAAIC,mBAAmB,EAAE;MACvB,IAAI,CAACL,MAAM,CAACM,IAAI,CAACJ,OAAO,CAAC;MACzB,OAAOJ,SAAS,CAAC,CAAC;IACpB;IACA,OAAO,KAAK,CAAC,CAAC;EAChB;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMS,YAAY,GAAGA,CAACC,OAAO,EAAEN,OAAO,KAAK;EACzC,IAAIR,MAAM;EACV,IAAIC,iBAAiB;EACrB,IAAIN,QAAQ,CAACmB,OAAO,CAAC,EAAE;IACrBd,MAAM,GAAGc,OAAO;IAChBb,iBAAiB,GAAG,KAAK;EAC3B,CAAC,MAAM;IACLD,MAAM,GAAGN,MAAM,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAEoB,OAAO,CAAC;IACvCb,iBAAiB,GAAGP,MAAM,CAAC,KAAK,EAAE,CAAC,mBAAmB,CAAC,EAAEoB,OAAO,CAAC;EACnE;EACA,MAAMC,OAAO,GAAG,IAAIjB,OAAO,CAAC;IAC1BE,MAAM;IACNC;EACF,CAAC,CAAC;EACFJ,KAAK,CAACW,OAAO,EAAEO,OAAO,CAAC;EACvB,OAAOtB,IAAI,CAACsB,OAAO,CAACT,MAAM,CAAC;AAC7B,CAAC;AACD,eAAeO,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}